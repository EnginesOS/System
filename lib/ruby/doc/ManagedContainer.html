<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class ManagedContainer - RDoc Documentation</title>

<link href="./fonts.css" rel="stylesheet">
<link href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/navigation.js"></script>
<script src="./js/search_index.js"></script>
<script src="./js/search.js"></script>
<script src="./js/searcher.js"></script>
<script src="./js/darkfish.js"></script>
<body id="top" role="document" class="class">
	<nav role="navigation">
		<div id="project-navigation">
			<div id="home-section" role="region" title="Quick navigation"
				class="nav-section">
				<h2>
					<a href="./index.html" rel="home">Home</a>
				</h2>

				<div id="table-of-contents-navigation">
					<a href="./table_of_contents.html#pages">Pages</a> <a
						href="./table_of_contents.html#classes">Classes</a> <a
						href="./table_of_contents.html#methods">Methods</a>
				</div>
			</div>

			<div id="search-section" role="search"
				class="project-section initially-hidden">
				<form action="#" method="get" accept-charset="utf-8">
					<div id="search-field-wrapper">
						<input id="search-field" role="combobox" aria-label="Search"
							aria-autocomplete="list" aria-controls="search-results"
							type="text" name="search" placeholder="Search" spellcheck="false"
							title="Type to search, Up and Down to navigate, Enter to load">
					</div>

					<ul id="search-results" aria-label="Search Results"
						aria-busy="false" aria-expanded="false" aria-atomic="false"
						class="initially-hidden"></ul>
				</form>
			</div>

		</div>



		<div id="class-metadata">

			<div id="parent-class-section" class="nav-section">
				<h3>Parent</h3>


				<p class="link">
					<a href="Container.html">Container</a>
			</div>



			<!-- Method Quickref -->
			<div id="method-list-section" class="nav-section">
				<h3>Methods</h3>

				<ul class="link-list" role="directory">

					<li><a href="#method-c-from_yaml">::from_yaml</a>
					<li><a href="#method-c-new">::new</a>
					<li><a href="#method-i-clear_error">#clear_error</a>
					<li><a href="#method-i-container_id">#container_id</a>
					<li><a href="#method-i-create_container">#create_container</a>
					<li><a href="#method-i-cron_job_list">#cron_job_list</a>
					<li><a href="#method-i-delete_image">#delete_image</a>
					<li><a href="#method-i-demonitor_site">#demonitor_site</a>
					<li><a href="#method-i-deregister_dns">#deregister_dns</a>
					<li><a href="#method-i-deregister_registered">#deregister_registered</a>
					<li><a href="#method-i-deregister_site">#deregister_site</a>
					<li><a href="#method-i-destroy_container">#destroy_container</a>
					<li><a href="#method-i-enable_http_and_https">#enable_http_and_https</a>
					<li><a href="#method-i-enable_http_only">#enable_http_only</a>
					<li><a href="#method-i-enable_https_only">#enable_https_only</a>
					<li><a href="#method-i-get_ip_str">#get_ip_str</a>
					<li><a href="#method-i-has_container-3F">#has_container?</a>
					<li><a href="#method-i-http_protocol">#http_protocol</a>
					<li><a href="#method-i-inspect_container">#inspect_container</a>
					<li><a href="#method-i-is_active">#is_active</a>
					<li><a href="#method-i-is_error">#is_error</a>
					<li><a href="#method-i-is_running">#is_running</a>
					<li><a href="#method-i-is_startup_complete">#is_startup_complete</a>
					<li><a href="#method-i-load_blueprint">#load_blueprint</a>
					<li><a href="#method-i-logs_container">#logs_container</a>
					<li><a href="#method-i-monitor_site">#monitor_site</a>
					<li><a href="#method-i-monitored">#monitored</a>
					<li><a href="#method-i-pause_container">#pause_container</a>
					<li><a href="#method-i-ps_container">#ps_container</a>
					<li><a href="#method-i-read_state">#read_state</a>
					<li><a href="#method-i-rebuild_container">#rebuild_container</a>
					<li><a href="#method-i-recreate_container">#recreate_container</a>
					<li><a href="#method-i-register">#register</a>
					<li><a href="#method-i-register_dns">#register_dns</a>
					<li><a href="#method-i-register_site">#register_site</a>
					<li><a href="#method-i-restart_container">#restart_container</a>
					<li><a href="#method-i-save_blueprint">#save_blueprint</a>
					<li><a href="#method-i-save_state">#save_state</a>
					<li><a href="#method-i-set_container_id">#set_container_id</a>
					<li><a href="#method-i-set_cron_job_list">#set_cron_job_list</a>
					<li><a href="#method-i-set_protocol">#set_protocol</a>
					<li><a href="#method-i-setup_container">#setup_container</a>
					<li><a href="#method-i-start_container">#start_container</a>
					<li><a href="#method-i-stats">#stats</a>
					<li><a href="#method-i-stop_container">#stop_container</a>
					<li><a href="#method-i-to_s">#to_s</a>
					<li><a href="#method-i-trim_last_error">#trim_last_error</a>
					<li><a href="#method-i-trim_last_result">#trim_last_result</a>
					<li><a href="#method-i-unpause_container">#unpause_container</a>
				</ul>
			</div>

		</div>
	</nav>

	<main role="main" aria-labelledby="class-ManagedContainer">
	<h1 id="class-ManagedContainer" class="class">class
		ManagedContainer</h1>

	<section class="description"></section>




	<section id="5Buntitled-5D" class="documentation-section">







		<section class="attribute-method-details" class="method-section">
			<header>
				<h3>Attributes</h3>
			</header>


			<div id="attribute-i-conf_monitor_site" class="method-detail">
				<div class="method-heading attribute-method-heading">
					<span class="method-name">conf_monitor_site</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description"></div>
			</div>

			<div id="attribute-i-conf_register_dns" class="method-detail">
				<div class="method-heading attribute-method-heading">
					<span class="method-name">conf_register_dns</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description"></div>
			</div>

			<div id="attribute-i-conf_register_site" class="method-detail">
				<div class="method-heading attribute-method-heading">
					<span class="method-name">conf_register_site</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description"></div>
			</div>

			<div id="attribute-i-conf_self_start" class="method-detail">
				<div class="method-heading attribute-method-heading">
					<span class="method-name">conf_self_start</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description"></div>
			</div>

			<div id="attribute-i-cont_userid" class="method-detail">
				<div class="method-heading attribute-method-heading">
					<span class="method-name">cont_userid</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description"></div>
			</div>

			<div id="attribute-i-container_id" class="method-detail">
				<div class="method-heading attribute-method-heading">
					<span class="method-name">container_id</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description"></div>
			</div>

			<div id="attribute-i-core_api" class="method-detail">
				<div class="method-heading attribute-method-heading">
					<span class="method-name">core_api</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description"></div>
			</div>

			<div id="attribute-i-data_gid" class="method-detail">
				<div class="method-heading attribute-method-heading">
					<span class="method-name">data_gid</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description"></div>
			</div>

			<div id="attribute-i-data_uid" class="method-detail">
				<div class="method-heading attribute-method-heading">
					<span class="method-name">data_uid</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description"></div>
			</div>

			<div id="attribute-i-databases" class="method-detail">
				<div class="method-heading attribute-method-heading">
					<span class="method-name">databases</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description"></div>
			</div>

			<div id="attribute-i-framework" class="method-detail">
				<div class="method-heading attribute-method-heading">
					<span class="method-name">framework</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description"></div>
			</div>

			<div id="attribute-i-last_error" class="method-detail">
				<div class="method-heading attribute-method-heading">
					<span class="method-name">last_error</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description"></div>
			</div>

			<div id="attribute-i-last_result" class="method-detail">
				<div class="method-heading attribute-method-heading">
					<span class="method-name">last_result</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description"></div>
			</div>

			<div id="attribute-i-port" class="method-detail">
				<div class="method-heading attribute-method-heading">
					<span class="method-name">port</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description"></div>
			</div>

			<div id="attribute-i-protocol" class="method-detail">
				<div class="method-heading attribute-method-heading">
					<span class="method-name">protocol</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description"></div>
			</div>

			<div id="attribute-i-repo" class="method-detail">
				<div class="method-heading attribute-method-heading">
					<span class="method-name">repo</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description"></div>
			</div>

			<div id="attribute-i-runtime" class="method-detail">
				<div class="method-heading attribute-method-heading">
					<span class="method-name">runtime</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description"></div>
			</div>

			<div id="attribute-i-setState" class="method-detail">
				<div class="method-heading attribute-method-heading">
					<span class="method-name">setState</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description"></div>
			</div>

			<div id="attribute-i-volumes" class="method-detail">
				<div class="method-heading attribute-method-heading">
					<span class="method-name">volumes</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description"></div>
			</div>

		</section>



		<section id="public-class-5Buntitled-5D-method-details"
			class="method-section">
			<header>
				<h3>Public Class Methods</h3>
			</header>


			<div id="method-c-from_yaml" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">from_yaml</span><span class="method-args">(
						yaml, core_api )</span> <span class="method-click-advice">click to
						toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="from_yaml-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 128</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">ManagedContainer</span>.<span
								class="ruby-identifier">from_yaml</span>( <span
								class="ruby-identifier">yaml</span>, <span
								class="ruby-identifier">core_api</span> )
  <span class="ruby-identifier">managedContainer</span> = <span
								class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span
								class="ruby-identifier">load</span>( <span
								class="ruby-identifier">yaml</span> )
  <span class="ruby-identifier">managedContainer</span>.<span
								class="ruby-identifier">core_api</span> = <span
								class="ruby-identifier">core_api</span>
  <span class="ruby-identifier">managedContainer</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-c-new" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">new</span><span class="method-args">(mem,name,host,domain,image,e_ports,vols,environs,framework,runtime,databases,setState,port,repo,data_uid,data_gid)</span>

					<span class="method-click-advice">click to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="new-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 23</span>
 <span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span
								class="ruby-identifier">mem</span>,<span class="ruby-identifier">name</span>,<span
								class="ruby-identifier">host</span>,<span
								class="ruby-identifier">domain</span>,<span
								class="ruby-identifier">image</span>,<span
								class="ruby-identifier">e_ports</span>,<span
								class="ruby-identifier">vols</span>,<span
								class="ruby-identifier">environs</span>,<span
								class="ruby-identifier">framework</span>,<span
								class="ruby-identifier">runtime</span>,<span
								class="ruby-identifier">databases</span>,<span
								class="ruby-identifier">setState</span>,<span
								class="ruby-identifier">port</span>,<span
								class="ruby-identifier">repo</span>,<span
								class="ruby-identifier">data_uid</span>,<span
								class="ruby-identifier">data_gid</span>) <span
								class="ruby-comment">#used for test only</span>
   <span class="ruby-ivar">@framework</span> = <span
								class="ruby-identifier">framework</span>
   <span class="ruby-ivar">@runtime</span> = <span
								class="ruby-identifier">runtime</span>
   <span class="ruby-ivar">@databases</span> = <span
								class="ruby-identifier">databases</span>
   <span class="ruby-ivar">@setState</span> = <span
								class="ruby-identifier">setState</span>
   <span class="ruby-ivar">@port</span> = <span class="ruby-identifier">port</span>
   <span class="ruby-ivar">@repo</span> = <span class="ruby-identifier">repo</span>
   <span class="ruby-ivar">@last_error</span> = <span
								class="ruby-identifier">last_error</span>
   <span class="ruby-ivar">@memory</span> = <span
								class="ruby-identifier">mem</span>
   <span class="ruby-ivar">@containerName</span> = <span
								class="ruby-identifier">name</span>
   <span class="ruby-ivar">@hostName</span> = <span
								class="ruby-identifier">host</span>
   <span class="ruby-ivar">@domainName</span> = <span
								class="ruby-identifier">domain</span>
   <span class="ruby-ivar">@image</span> = <span class="ruby-identifier">image</span>
   <span class="ruby-ivar">@eports</span> = <span
								class="ruby-identifier">e_ports</span>
   <span class="ruby-ivar">@volumes</span> = <span
								class="ruby-identifier">vols</span>
   <span class="ruby-ivar">@environments</span> = <span
								class="ruby-identifier">environs</span>
   <span class="ruby-ivar">@conf_self_start</span>=<span
								class="ruby-keyword">false</span>
   <span class="ruby-ivar">@conf_register_dns</span>=<span
								class="ruby-keyword">true</span> <span class="ruby-comment">#do this even if self registers dns s it dd to the dns consumer (so record survives rebuild)</span>
   <span class="ruby-ivar">@conf_register_site</span>=<span
								class="ruby-keyword">false</span>
   <span class="ruby-ivar">@conf_monitor_site</span>=<span
								class="ruby-keyword">false</span>
<span class="ruby-comment">#   @http_and_https=true</span>
<span class="ruby-comment">#   @https_only=false</span>
   <span class="ruby-ivar">@last_error</span>=<span class="ruby-string">&quot;&quot;</span>
   <span class="ruby-ivar">@last_result</span>=<span class="ruby-string">&quot;&quot;</span>
   <span class="ruby-ivar">@data_uid</span>=<span
								class="ruby-identifier">data_uid</span>
   <span class="ruby-ivar">@data_gid</span>=<span
								class="ruby-identifier">data_gid</span>
   <span class="ruby-ivar">@cont_userid</span>=<span class="ruby-value">-1</span>
   <span class="ruby-ivar">@protocol</span>=<span class="ruby-value">:http_and_https</span>
 <span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


		</section>

		<section id="public-instance-5Buntitled-5D-method-details"
			class="method-section">
			<header>
				<h3>Public Instance Methods</h3>
			</header>


			<div id="method-i-container_id" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">container_id</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="container_id-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 55</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">container_id</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@container_id</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@container_id</span> = <span
								class="ruby-identifier">set_container_id</span>
     <span class="ruby-keyword">if</span> <span class="ruby-ivar">@container_id</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
       <span class="ruby-ivar">@container_id</span> <span
								class="ruby-operator">==</span> <span class="ruby-string">&quot;-1&quot;</span>
     <span class="ruby-keyword">end</span>            
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">p</span> <span class="ruby-ivar">@container_id</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@container_id</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-create_container" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">create_container</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="create_container-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 261</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_container</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@last_error</span>=<span class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">ret_val</span> =<span
								class="ruby-keyword">false</span>
  <span class="ruby-identifier">state</span> = <span
								class="ruby-identifier">read_state</span>()

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">state</span> <span
								class="ruby-operator">==</span> <span class="ruby-string">&quot;nocontainer&quot;</span>
    <span class="ruby-identifier">ret_val</span> = <span
								class="ruby-ivar">@core_api</span>.<span class="ruby-identifier">create_container</span> <span
								class="ruby-keyword">self</span>
    <span class="ruby-ivar">@setState</span>=<span class="ruby-string">&quot;running&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@last_error</span> =<span
								class="ruby-string">&quot;Cannot create container if container by the same name exists&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ret_val</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">conf_register_dns</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
        <span class="ruby-identifier">register_dns</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">conf_register_site</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
      <span class="ruby-identifier">register_site</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">read_state</span> <span
								class="ruby-operator">!=</span> <span class="ruby-string">&quot;running&quot;</span>
      <span class="ruby-ivar">@last_error</span> =<span
								class="ruby-string">&quot;Did not start&quot;</span>
      <span class="ruby-identifier">ret_val</span> = <span
								class="ruby-keyword">false</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">clear_error</span>(<span
								class="ruby-identifier">ret_val</span>)
  <span class="ruby-identifier">save_state</span>()
  <span class="ruby-identifier">set_container_id</span>
  
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">ret_val</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-cron_job_list" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">cron_job_list</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="cron_job_list-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 87</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cron_job_list</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@cron_job_list</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@cron_job_list</span> =  <span
								class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@cron_job_list</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-delete_image" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">delete_image</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="delete_image-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 199</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delete_image</span>()
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@last_error</span>=<span class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">ret_val</span>=<span
								class="ruby-keyword">false</span>
  <span class="ruby-identifier">state</span> = <span
								class="ruby-identifier">read_state</span>()
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">state</span> <span
								class="ruby-operator">==</span> <span class="ruby-string">&quot;nocontainer&quot;</span>
    <span class="ruby-identifier">ret_val</span>=<span class="ruby-ivar">@core_api</span>.<span
								class="ruby-identifier">delete_image</span>(<span
								class="ruby-keyword">self</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@last_error</span> =<span
								class="ruby-string">&quot;Cannot Delete the Image while container exists. Please stop/destroy first&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">clear_error</span>(<span
								class="ruby-identifier">ret_val</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">ret_val</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-demonitor_site" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">demonitor_site</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="demonitor_site-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 455</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">demonitor_site</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@last_error</span>=<span class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>  
    <span class="ruby-identifier">service</span> =  <span
								class="ruby-constant">EnginesOSapi</span>.<span
								class="ruby-identifier">loadManagedService</span>(<span
								class="ruby-string">&quot;monit&quot;</span>,<span
								class="ruby-ivar">@core_api</span>)
    <span class="ruby-keyword">return</span> <span
								class="ruby-identifier">service</span>.<span
								class="ruby-identifier">remove_consumer</span>(<span
								class="ruby-keyword">self</span>)   
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-deregister_dns" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">deregister_dns</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="deregister_dns-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 479</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">deregister_dns</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
     <span class="ruby-ivar">@last_error</span>=<span
								class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
     <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
   <span class="ruby-keyword">end</span>
   <span class="ruby-identifier">service</span> =  <span
								class="ruby-constant">EnginesOSapi</span>.<span
								class="ruby-identifier">loadManagedService</span>(<span
								class="ruby-string">&quot;dns&quot;</span>,<span
								class="ruby-ivar">@core_api</span>)
   <span class="ruby-keyword">if</span> <span class="ruby-identifier">service</span>.<span
								class="ruby-identifier">is_a?</span>(<span class="ruby-constant">ManagedService</span>) <span
								class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
     <span class="ruby-identifier">p</span> <span
								class="ruby-identifier">failed_to_load_dns_service</span>
     <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
   <span class="ruby-keyword">else</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">service</span>.<span
								class="ruby-identifier">remove_consumer</span>(<span
								class="ruby-keyword">self</span>)
   <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-deregister_registered" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">deregister_registered</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="deregister_registered-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 370</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">deregister_registered</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@conf_register_site</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
         <span class="ruby-identifier">deregister_site</span>
        <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@conf_register_dns</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
          <span class="ruby-identifier">deregister_dns</span>
  <span class="ruby-keyword">end</span>
  

<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-deregister_site" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">deregister_site</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="deregister_site-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 443</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">deregister_site</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@last_error</span>=<span class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">service</span> =  <span
								class="ruby-constant">EnginesOSapi</span>.<span
								class="ruby-identifier">loadManagedService</span>(<span
								class="ruby-string">&quot;nginx&quot;</span>,<span
								class="ruby-ivar">@core_api</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">service</span>.<span
								class="ruby-identifier">is_a?</span>(<span class="ruby-constant">ManagedService</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">service</span>.<span
								class="ruby-identifier">remove_consumer</span>(<span
								class="ruby-keyword">self</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-destroy_container" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">destroy_container</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="destroy_container-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 215</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">destroy_container</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@last_error</span>=<span class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">ret_val</span>=<span
								class="ruby-keyword">false</span>

  <span class="ruby-identifier">state</span> = <span
								class="ruby-identifier">read_state</span>
  <span class="ruby-ivar">@setState</span>=<span class="ruby-string">&quot;nocontainer&quot;</span> <span
								class="ruby-comment">#this represents the state we want and not necessarily the one we get</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">state</span> <span
								class="ruby-operator">==</span> <span class="ruby-string">&quot;stopped&quot;</span>
    <span class="ruby-identifier">ret_val</span>=<span class="ruby-ivar">@core_api</span>.<span
								class="ruby-identifier">destroy_container</span> <span
								class="ruby-keyword">self</span>
  <span class="ruby-keyword">else</span> <span class="ruby-keyword">if</span> <span
								class="ruby-identifier">state</span> <span class="ruby-operator">==</span> <span
								class="ruby-string">&quot;nocontainer&quot;</span>
      <span class="ruby-ivar">@last_error</span> =<span
								class="ruby-string">&quot;No Active Container&quot;</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-ivar">@last_error</span> =<span
								class="ruby-string">&quot;Cannot Destroy a container that is not stopped\nPlease stop first&quot;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">clear_error</span>(<span
								class="ruby-identifier">ret_val</span>)
    <span class="ruby-identifier">save_state</span>()
    <span class="ruby-keyword">return</span> <span
								class="ruby-identifier">ret_val</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-enable_http_and_https" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">enable_http_and_https</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="enable_http_and_https-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 684</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">enable_http_and_https</span>
  <span class="ruby-identifier">p</span> <span class="ruby-value">:disable_httpsonly</span>
  <span class="ruby-identifier">deregister_site</span>
  <span class="ruby-ivar">@protocol</span>=<span class="ruby-value">:http_and_https</span>
  <span class="ruby-identifier">register_site</span>
  <span class="ruby-identifier">save_state</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-enable_http_only" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">enable_http_only</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="enable_http_only-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 676</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">enable_http_only</span>
  <span class="ruby-identifier">p</span> <span class="ruby-value">:enable_http_only</span>
  <span class="ruby-identifier">deregister_site</span>
  <span class="ruby-ivar">@protocol</span>=<span class="ruby-value">:http_only</span>
  <span class="ruby-identifier">register_site</span>
  <span class="ruby-identifier">save_state</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-enable_https_only" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">enable_https_only</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="enable_https_only-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 668</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">enable_https_only</span>
  <span class="ruby-identifier">deregister_site</span>
  <span class="ruby-ivar">@protocol</span>=<span class="ruby-value">:https_only</span>
   <span class="ruby-identifier">p</span> <span class="ruby-value">:enable_https_only</span>
 <span class="ruby-identifier">register_site</span>
  <span class="ruby-identifier">save_state</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-get_ip_str" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">get_ip_str</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="get_ip_str-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 493</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_ip_str</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">inspect_container</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">output</span> = <span
								class="ruby-constant">JSON</span>.<span class="ruby-identifier">parse</span>(<span
								class="ruby-ivar">@last_result</span>)
  <span class="ruby-identifier">ip_str</span>=<span
								class="ruby-identifier">output</span>[<span class="ruby-value">0</span>][<span
								class="ruby-string">&#39;NetworkSettings&#39;</span>][<span
								class="ruby-string">&#39;IPAddress&#39;</span>]
<span class="ruby-comment">#    puts containerName + &quot;:&quot; + ip_str</span>
    <span class="ruby-keyword">return</span> <span
								class="ruby-identifier">ip_str</span>
<span class="ruby-keyword">rescue</span> 
      <span class="ruby-keyword">return</span> <span
								class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-has_container-3F" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">has_container?</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="has_container-3F-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 639</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">has_container?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">read_state</span> <span
								class="ruby-operator">==</span> <span class="ruby-string">&quot;nocontainer&quot;</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>     
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-http_protocol" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">http_protocol</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="http_protocol-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 101</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">http_protocol</span>
  <span class="ruby-keyword">case</span> <span class="ruby-ivar">@protocol</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:http_and_https</span>
    <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;HTTPS and HTTP&quot;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:http_only</span>
    <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;HTTP only&quot;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:https_only</span>
    <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;HTTPS only&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">p</span> <span class="ruby-string">&quot;no web protocol err&quot;</span>
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;HTTP only&quot;</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-inspect_container" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">inspect_container</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="inspect_container-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 574</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">inspect_container</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@last_error</span>=<span class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">ret_val</span> = <span class="ruby-ivar">@core_api</span>.<span
								class="ruby-identifier">inspect_container</span> <span
								class="ruby-keyword">self</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">ret_val</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-is_active" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">is_active</span><span class="method-args">()</span>

					<span class="method-click-advice">click to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="is_active-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 656</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">is_active</span>
  <span class="ruby-identifier">state</span> = <span
								class="ruby-identifier">read_state</span>
 <span class="ruby-keyword">case</span> <span class="ruby-identifier">state</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;running&quot;</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;paused&quot;</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
 <span class="ruby-keyword">end</span>  
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-is_error" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">is_error</span><span class="method-args">()</span>

					<span class="method-click-advice">click to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="is_error-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 647</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">is_error</span>
  <span class="ruby-identifier">state</span> = <span
								class="ruby-identifier">read_state</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">setStat</span> <span
								class="ruby-operator">!=</span> <span class="ruby-identifier">state</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>   
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-is_running" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">is_running</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="is_running-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 620</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">is_running</span>
   <span class="ruby-identifier">state</span> = <span
								class="ruby-identifier">read_state</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">state</span> <span
								class="ruby-operator">==</span> <span class="ruby-string">&quot;running&quot;</span>
     <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-is_startup_complete" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">is_startup_complete</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="is_startup_complete-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 630</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">is_startup_complete</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
           <span class="ruby-ivar">@last_error</span>=<span
								class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
            <span class="ruby-keyword">return</span> <span
								class="ruby-keyword">false</span>
     <span class="ruby-keyword">end</span>
     <span class="ruby-identifier">ret_val</span> = <span
								class="ruby-ivar">@core_api</span>.<span class="ruby-identifier">is_startup_complete</span>(<span
								class="ruby-keyword">self</span>)
    <span class="ruby-keyword">return</span> <span
								class="ruby-identifier">ret_val</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-load_blueprint" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">load_blueprint</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="load_blueprint-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 603</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">load_blueprint</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
          <span class="ruby-ivar">@last_error</span>=<span
								class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
          <span class="ruby-keyword">return</span> <span
								class="ruby-keyword">false</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">ret_val</span> = <span
								class="ruby-ivar">@core_api</span>.<span class="ruby-identifier">load_blueprint</span>(<span
								class="ruby-keyword">self</span>)
        <span class="ruby-keyword">return</span> <span
								class="ruby-identifier">ret_val</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-logs_container" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">logs_container</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="logs_container-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 182</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">logs_container</span>    
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@last_error</span>=<span class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@core_api</span>.<span
								class="ruby-identifier">logs_container</span>(<span
								class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-monitor_site" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">monitor_site</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="monitor_site-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 431</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">monitor_site</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@last_error</span>=<span class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">service</span> =  <span
								class="ruby-constant">EnginesOSapi</span>.<span
								class="ruby-identifier">loadManagedService</span>(<span
								class="ruby-string">&quot;monit&quot;</span>,<span
								class="ruby-ivar">@core_api</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">service</span>.<span
								class="ruby-identifier">is_a?</span>(<span class="ruby-constant">ManagedService</span>)
    <span class="ruby-keyword">return</span> <span
								class="ruby-identifier">service</span>.<span
								class="ruby-identifier">add_consumer</span>(<span
								class="ruby-keyword">self</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-monitored" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">monitored</span><span class="method-args">()</span>

					<span class="method-click-advice">click to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="monitored-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 124</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">monitored</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">conf_monitor_site</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-pause_container" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">pause_container</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="pause_container-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 324</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pause_container</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@last_error</span>=<span class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">state</span> = <span
								class="ruby-identifier">read_state</span>()

  <span class="ruby-identifier">ret_val</span> = <span
								class="ruby-keyword">false</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">state</span> <span
								class="ruby-operator">==</span> <span class="ruby-string">&quot;running&quot;</span>
    <span class="ruby-ivar">@setState</span>=<span class="ruby-string">&quot;paused&quot;</span>
    <span class="ruby-identifier">ret_val</span> = <span
								class="ruby-ivar">@core_api</span>.<span class="ruby-identifier">pause_container</span> <span
								class="ruby-keyword">self</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@last_error</span> =<span
								class="ruby-string">&quot;Can&#39;t pause Container as &quot;</span> <span
								class="ruby-operator">+</span> <span class="ruby-identifier">state</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">clear_error</span>(<span
								class="ruby-identifier">ret_val</span>)
  <span class="ruby-identifier">save_state</span>()
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">ret_val</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-ps_container" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">ps_container</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="ps_container-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 190</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ps_container</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@last_error</span>=<span class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@core_api</span>.<span
								class="ruby-identifier">ps_container</span>(<span
								class="ruby-keyword">self</span>)

<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-read_state" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">read_state</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="read_state-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 141</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">read_state</span>()
    <span class="ruby-keyword">begin</span>
    <span class="ruby-keyword">if</span> (<span class="ruby-identifier">inspect_container</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">false</span>)
      <span class="ruby-identifier">state</span>=<span
								class="ruby-string">&quot;nocontainer&quot;</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-ivar">@res</span>= <span class="ruby-identifier">last_result</span>
      <span class="ruby-identifier">output</span> = <span
								class="ruby-constant">JSON</span>.<span class="ruby-identifier">parse</span>(<span
								class="ruby-identifier">last_result</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">output</span>[<span
								class="ruby-value">0</span>][<span class="ruby-string">&quot;State&quot;</span>]
        <span class="ruby-keyword">if</span> <span
								class="ruby-identifier">output</span>[<span class="ruby-value">0</span>][<span
								class="ruby-string">&quot;State&quot;</span>][<span
								class="ruby-string">&quot;Running&quot;</span>] <span
								class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
          <span class="ruby-identifier">state</span> = <span
								class="ruby-string">&quot;running&quot;</span>
          <span class="ruby-keyword">if</span> <span
								class="ruby-identifier">output</span>[<span class="ruby-value">0</span>][<span
								class="ruby-string">&quot;State&quot;</span>][<span
								class="ruby-string">&quot;Paused&quot;</span>] <span
								class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
            <span class="ruby-identifier">state</span>= <span
								class="ruby-string">&quot;paused&quot;</span>
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">elsif</span>     <span
								class="ruby-identifier">output</span>[<span class="ruby-value">0</span>][<span
								class="ruby-string">&quot;State&quot;</span>][<span
								class="ruby-string">&quot;Running&quot;</span>] <span
								class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
          <span class="ruby-identifier">state</span> = <span
								class="ruby-string">&quot;stopped&quot;</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">state</span>=<span
								class="ruby-string">&quot;nocontainer&quot;</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">state</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span> <span
								class="ruby-comment">#Kludge</span>
      <span class="ruby-identifier">state</span> = <span
								class="ruby-string">&quot;nocontainer&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> (<span class="ruby-ivar">@setState</span> <span
								class="ruby-operator">&amp;&amp;</span> <span
								class="ruby-identifier">state</span> <span class="ruby-operator">!=</span> <span
								class="ruby-ivar">@setState</span>)  
      <span class="ruby-keyword">if</span>    <span class="ruby-ivar">@last_error</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-ivar">@last_error</span>=<span
								class="ruby-string">&quot; &quot;</span>
      <span class="ruby-keyword">end</span>

     <span class="ruby-ivar">@last_error</span> =  <span
								class="ruby-ivar">@last_error</span> <span class="ruby-operator">+</span> <span
								class="ruby-string">&quot; Warning State Mismatch set to &quot;</span> <span
								class="ruby-operator">+</span> <span class="ruby-ivar">@setState</span> <span
								class="ruby-operator">+</span> <span class="ruby-string">&quot; but in &quot;</span> <span
								class="ruby-operator">+</span> <span class="ruby-identifier">state</span> <span
								class="ruby-operator">+</span> <span class="ruby-string">&quot; state&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">return</span> <span
								class="ruby-identifier">state</span>


<span class="ruby-keyword">rescue</span> <span class="ruby-constant">Exception</span>=<span
								class="ruby-operator">&gt;</span><span class="ruby-identifier">e</span>
   <span class="ruby-identifier">p</span> <span class="ruby-value">:json_Str</span>
   <span class="ruby-identifier">p</span> <span class="ruby-ivar">@res</span>
<span class="ruby-constant">SystemUtils</span>.<span
								class="ruby-identifier">log_exception</span>(<span
								class="ruby-identifier">e</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;nocontainer&quot;</span>
<span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-rebuild_container" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">rebuild_container</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="rebuild_container-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 612</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rebuild_container</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-ivar">@last_error</span>=<span
								class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
         <span class="ruby-keyword">return</span> <span
								class="ruby-keyword">false</span>
   <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">ret_val</span> = <span class="ruby-ivar">@core_api</span>.<span
								class="ruby-identifier">rebuild_image</span>(<span
								class="ruby-keyword">self</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">ret_val</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-recreate_container" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">recreate_container</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="recreate_container-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 294</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">recreate_container</span>
  <span class="ruby-identifier">ret_val</span> =<span
								class="ruby-keyword">false</span>
  <span class="ruby-keyword">if</span>(<span class="ruby-identifier">retval</span>=<span
								class="ruby-identifier">destroy_container</span>()) <span
								class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">ret_val</span>=<span
								class="ruby-identifier">create_container</span>()
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">ret_val</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-register" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">register</span><span class="method-args">()</span>

					<span class="method-click-advice">click to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="register-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 506</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">register</span>
 
       <span class="ruby-keyword">if</span> <span class="ruby-ivar">@conf_register_dns</span> <span
								class="ruby-operator">==</span><span class="ruby-keyword">true</span>
         <span class="ruby-identifier">register_dns</span>
      <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">if</span> <span class="ruby-ivar">@conf_register_site</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
          <span class="ruby-identifier">register_site</span>
        <span class="ruby-keyword">end</span>
    
      <span class="ruby-keyword">if</span> <span class="ruby-ivar">@conf_monitor_site</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
        <span class="ruby-identifier">monitor_site</span>
      <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">cron_service</span> = <span
								class="ruby-ivar">@core_api</span>.<span class="ruby-identifier">loadManagedService</span>(<span
								class="ruby-string">&quot;cron&quot;</span>)       
  <span class="ruby-identifier">cron_job_list</span>.<span
								class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span
								class="ruby-operator">|</span><span class="ruby-identifier">cj</span><span
								class="ruby-operator">|</span>
    <span class="ruby-identifier">p</span> <span class="ruby-value">:register_cj</span>
    <span class="ruby-identifier">p</span> <span class="ruby-identifier">cj</span>        
     <span class="ruby-identifier">cron_service</span>.<span
								class="ruby-identifier">add_consumer</span>(<span
								class="ruby-identifier">cj</span>)              
  <span class="ruby-keyword">end</span> 
  <span class="ruby-comment">#FIXME check results</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-register_dns" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">register_dns</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="register_dns-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 464</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">register_dns</span> 
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
     <span class="ruby-ivar">@last_error</span>=<span
								class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
     <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
   <span class="ruby-keyword">end</span>
   
   <span class="ruby-keyword">if</span> <span class="ruby-identifier">is_active</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">true</span>        
    <span class="ruby-identifier">service</span> =  <span
								class="ruby-constant">EnginesOSapi</span>.<span
								class="ruby-identifier">loadManagedService</span>(<span
								class="ruby-string">&quot;dns&quot;</span>,<span
								class="ruby-ivar">@core_api</span>)
    <span class="ruby-keyword">return</span> <span
								class="ruby-identifier">service</span>.<span
								class="ruby-identifier">add_consumer</span>(<span
								class="ruby-keyword">self</span>)
   <span class="ruby-keyword">else</span>
     <span class="ruby-ivar">@last_error</span>=<span
								class="ruby-string">&quot;Cannot register when Engine is inactive&quot;</span>
     <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
   <span class="ruby-keyword">end</span>   
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-register_site" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">register_site</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="register_site-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 413</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">register_site</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@last_error</span>=<span class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">conf_register_site</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>
  
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">is_active</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">true</span>  
    <span class="ruby-identifier">service</span> =  <span
								class="ruby-constant">EnginesOSapi</span>.<span
								class="ruby-identifier">loadManagedService</span>(<span
								class="ruby-string">&quot;nginx&quot;</span>,<span
								class="ruby-ivar">@core_api</span>)
    <span class="ruby-keyword">return</span> <span
								class="ruby-identifier">service</span>.<span
								class="ruby-identifier">add_consumer</span>(<span
								class="ruby-keyword">self</span>)
   <span class="ruby-keyword">else</span>
          <span class="ruby-ivar">@last_error</span>=<span
								class="ruby-string">&quot;Cannot register when Engine is inactive&quot;</span>
          <span class="ruby-keyword">return</span> <span
								class="ruby-keyword">false</span>
    <span class="ruby-keyword">end</span>    
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-restart_container" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">restart_container</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="restart_container-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 405</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">restart_container</span>
  <span class="ruby-identifier">ret_val</span>=<span
								class="ruby-keyword">false</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">ret_val</span> = <span
								class="ruby-identifier">stop_container</span>  ) <span
								class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">ret_val</span> = <span
								class="ruby-identifier">start_container</span>        
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">ret_val</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-save_blueprint" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">save_blueprint</span><span
						class="method-args">(blueprint)</span> <span
						class="method-click-advice">click to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="save_blueprint-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 594</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">save_blueprint</span> <span
								class="ruby-identifier">blueprint</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
       <span class="ruby-ivar">@last_error</span>=<span
								class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
       <span class="ruby-keyword">return</span> <span
								class="ruby-keyword">false</span>
     <span class="ruby-keyword">end</span>
     <span class="ruby-identifier">ret_val</span> = <span
								class="ruby-ivar">@core_api</span>.<span class="ruby-identifier">save_blueprint</span>(<span
								class="ruby-identifier">blueprint</span>, <span
								class="ruby-keyword">self</span>)
     <span class="ruby-keyword">return</span> <span
								class="ruby-identifier">ret_val</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-save_state" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">save_state</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="save_state-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 583</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">save_state</span>()
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@last_error</span>=<span class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">trim_last_result</span>
  <span class="ruby-identifier">trim_last_error</span>
  <span class="ruby-identifier">ret_val</span> = <span class="ruby-ivar">@core_api</span>.<span
								class="ruby-identifier">save_container</span> <span
								class="ruby-keyword">self</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">ret_val</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-set_cron_job_list" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">set_cron_job_list</span><span
						class="method-args">(job_list)</span> <span
						class="method-click-advice">click to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="set_cron_job_list-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 94</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_cron_job_list</span>(<span
								class="ruby-identifier">job_list</span>)
  <span class="ruby-ivar">@cron_job_list</span> = <span
								class="ruby-identifier">job_list</span> 
  <span class="ruby-identifier">p</span> <span class="ruby-value">:set_cron_job_list</span>
  <span class="ruby-identifier">p</span> <span class="ruby-ivar">@cron_job_list</span>
      
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-set_protocol" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">set_protocol</span><span
						class="method-args">(proto)</span> <span
						class="method-click-advice">click to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="set_protocol-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 114</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_protocol</span>(<span
								class="ruby-identifier">proto</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">proto</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;HTTPS and HTTP&quot;</span>
    <span class="ruby-identifier">enable_http_and_https</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;HTTP only&quot;</span>
    <span class="ruby-identifier">enable_http_only</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;HTTPS only&quot;</span>
    <span class="ruby-identifier">enable_httpd_only</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-setup_container" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">setup_container</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="setup_container-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 239</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">setup_container</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@last_error</span>=<span class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">ret_val</span> =<span
								class="ruby-keyword">false</span>
  <span class="ruby-identifier">state</span> = <span
								class="ruby-identifier">read_state</span>()
 
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">state</span> <span
								class="ruby-operator">==</span> <span class="ruby-string">&quot;nocontainer&quot;</span>
    <span class="ruby-identifier">ret_val</span> = <span
								class="ruby-ivar">@core_api</span>.<span class="ruby-identifier">setup_container</span> <span
								class="ruby-keyword">self</span>
    <span class="ruby-ivar">@setState</span>=<span class="ruby-string">&quot;stopped&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@last_error</span> =<span
								class="ruby-string">&quot;Cannot create container if container by the same name exists&quot;</span>
  <span class="ruby-keyword">end</span>
 
  <span class="ruby-identifier">clear_error</span>(<span
								class="ruby-identifier">ret_val</span>)
  <span class="ruby-identifier">save_state</span>()
  
  
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">ret_val</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-start_container" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">start_container</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="start_container-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 381</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">start_container</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@last_error</span>=<span class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">ret_val</span>=<span
								class="ruby-keyword">false</span>
  <span class="ruby-identifier">state</span> = <span
								class="ruby-identifier">read_state</span>()

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">state</span> <span
								class="ruby-operator">==</span> <span class="ruby-string">&quot;stopped&quot;</span>
    <span class="ruby-identifier">ret_val</span> = <span
								class="ruby-ivar">@core_api</span>.<span class="ruby-identifier">start_container</span> <span
								class="ruby-keyword">self</span>
    <span class="ruby-ivar">@setState</span>=<span class="ruby-string">&quot;running&quot;</span>
     
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@last_error</span> =<span
								class="ruby-string">&quot;Can&#39;t Start Container as &quot;</span> <span
								class="ruby-operator">+</span> <span class="ruby-identifier">state</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ret_val</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">register</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">clear_error</span>(<span
								class="ruby-identifier">ret_val</span>)
  <span class="ruby-identifier">save_state</span>()
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">ret_val</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-stats" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">stats</span><span class="method-args">()</span>

					<span class="method-click-advice">click to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="stats-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 527</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">stats</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">inspect_container</span>() <span
								class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">output</span> = <span
								class="ruby-constant">JSON</span>.<span class="ruby-identifier">parse</span>(<span
								class="ruby-identifier">last_result</span>)
  <span class="ruby-identifier">started</span> = <span
								class="ruby-identifier">output</span>[<span class="ruby-value">0</span>][<span
								class="ruby-string">&quot;State&quot;</span>][<span
								class="ruby-string">&quot;StartedAt&quot;</span>]
  <span class="ruby-identifier">stopped</span> = <span
								class="ruby-identifier">output</span>[<span class="ruby-value">0</span>][<span
								class="ruby-string">&quot;State&quot;</span>][<span
								class="ruby-string">&quot;FinishedAt&quot;</span>]
  <span class="ruby-identifier">state</span> = <span
								class="ruby-identifier">read_state</span>()

  <span class="ruby-identifier">ps_container</span>()
  <span class="ruby-identifier">pcnt</span>=<span class="ruby-value">-1</span>
  <span class="ruby-identifier">rss</span>=<span class="ruby-value">0</span>
  <span class="ruby-identifier">vss</span>=<span class="ruby-value">0</span>
  <span class="ruby-identifier">h</span>=<span class="ruby-identifier">m</span>=<span
								class="ruby-identifier">s</span>=<span class="ruby-value">0</span>

  <span class="ruby-ivar">@last_result</span>.<span
								class="ruby-identifier">each_line</span>.<span
								class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span
								class="ruby-operator">|</span><span class="ruby-identifier">line</span><span
								class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">pcnt</span> <span
								class="ruby-operator">&gt;</span><span class="ruby-value">0</span> <span
								class="ruby-comment">#skip the fist line with is a header</span>

      <span class="ruby-identifier">fields</span> =  <span
								class="ruby-identifier">line</span>.<span
								class="ruby-identifier">split</span>()  <span
								class="ruby-comment">#  [6]rss [10] time</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">fields</span> <span
								class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-identifier">rss</span> <span
								class="ruby-operator">+=</span> <span class="ruby-identifier">fields</span>[<span
								class="ruby-value">7</span>].<span class="ruby-identifier">to_i</span>
        <span class="ruby-identifier">vss</span> <span
								class="ruby-operator">+=</span> <span class="ruby-identifier">fields</span>[<span
								class="ruby-value">6</span>].<span class="ruby-identifier">to_i</span>
        <span class="ruby-identifier">time_f</span> = <span
								class="ruby-identifier">fields</span>[<span class="ruby-value">11</span>]
        <span class="ruby-identifier">c_HMS</span> = <span
								class="ruby-identifier">time_f</span>.<span
								class="ruby-identifier">split</span>(<span class="ruby-string">&#39;:&#39;</span>)

        <span class="ruby-keyword">if</span> <span
								class="ruby-identifier">c_HMS</span>.<span
								class="ruby-identifier">length</span> <span
								class="ruby-operator">==</span> <span class="ruby-value">3</span>
          <span class="ruby-identifier">h</span><span
								class="ruby-operator">+=</span> <span class="ruby-identifier">c_HMS</span>[<span
								class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>
          <span class="ruby-identifier">m</span><span
								class="ruby-operator">+=</span><span class="ruby-identifier">c_HMS</span>[<span
								class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>
          <span class="ruby-identifier">s</span><span
								class="ruby-operator">+=</span><span class="ruby-identifier">c_HMS</span>[<span
								class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">m</span><span
								class="ruby-operator">+=</span><span class="ruby-identifier">c_HMS</span>[<span
								class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>
          <span class="ruby-identifier">s</span><span
								class="ruby-operator">+=</span><span class="ruby-identifier">c_HMS</span>[<span
								class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">pcnt</span>=<span
								class="ruby-identifier">pcnt</span><span class="ruby-operator">+</span><span
								class="ruby-value">1</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">cpu</span> = <span class="ruby-value">3600</span> <span
								class="ruby-operator">*</span> <span class="ruby-identifier">h</span> <span
								class="ruby-operator">+</span> <span class="ruby-value">60</span> <span
								class="ruby-operator">*</span> <span class="ruby-identifier">m</span> <span
								class="ruby-operator">+</span> <span class="ruby-identifier">s</span>
  <span class="ruby-identifier">statistics</span> = <span
								class="ruby-constant">ContainerStatistics</span>.<span
								class="ruby-identifier">new</span>(<span class="ruby-identifier">state</span>,<span
								class="ruby-identifier">pcnt</span>,<span
								class="ruby-identifier">started</span>,<span
								class="ruby-identifier">stopped</span>,<span
								class="ruby-identifier">rss</span>,<span class="ruby-identifier">vss</span>,<span
								class="ruby-identifier">cpu</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">statistics</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-stop_container" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">stop_container</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="stop_container-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 344</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">stop_container</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@last_error</span>=<span class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">ret_val</span> = <span
								class="ruby-keyword">false</span>
  <span class="ruby-identifier">state</span> = <span
								class="ruby-identifier">read_state</span>()
  <span class="ruby-ivar">@set_container_id</span>=<span
								class="ruby-string">&quot;-1&quot;</span>
  
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">state</span><span
								class="ruby-operator">==</span> <span class="ruby-string">&quot;running&quot;</span>
    <span class="ruby-identifier">ret_val</span> = <span
								class="ruby-ivar">@core_api</span>.<span class="ruby-identifier">stop_container</span>   <span
								class="ruby-keyword">self</span>
    <span class="ruby-identifier">deregister_registered</span>
    
    <span class="ruby-ivar">@setState</span>=<span class="ruby-string">&quot;stopped&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@last_error</span> =<span
								class="ruby-string">&quot;Can&#39;t stop Container as &quot;</span> <span
								class="ruby-operator">+</span> <span class="ruby-identifier">state</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">state</span> <span
								class="ruby-operator">!=</span> <span class="ruby-string">&quot;paused&quot;</span> <span
								class="ruby-comment">#force deregister if stopped or no container etc</span>
         <span class="ruby-identifier">deregister_registered</span>
       <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
 
  <span class="ruby-identifier">clear_error</span>(<span
								class="ruby-identifier">ret_val</span>)
  <span class="ruby-identifier">save_state</span>()
  <span class="ruby-keyword">return</span>  <span
								class="ruby-identifier">ret_val</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-to_s" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">to_s</span><span class="method-args">()</span>

					<span class="method-click-advice">click to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="to_s-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 136</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_s</span>
  <span class="ruby-node">&quot;#{@containerName.to_s}, #{@ctype}, #{@memory}, #{@hostName}, #{@self_start}, #{@environments}, #{@image}, #{@volumes}, #{@port}, #{@eports}  \n&quot;</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-unpause_container" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">unpause_container</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="unpause_container-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 303</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">unpause_container</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@core_api</span> <span
								class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@last_error</span>=<span class="ruby-string">&quot;No connection to Engines OS System&quot;</span>      
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">state</span> = <span
								class="ruby-identifier">read_state</span>()

  <span class="ruby-identifier">ret_val</span> = <span
								class="ruby-keyword">false</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">state</span> <span
								class="ruby-operator">==</span> <span class="ruby-string">&quot;paused&quot;</span>
    <span class="ruby-ivar">@setState</span>=<span class="ruby-string">&quot;running&quot;</span>
    <span class="ruby-identifier">ret_val</span>= <span
								class="ruby-ivar">@core_api</span>.<span class="ruby-identifier">unpause_container</span> <span
								class="ruby-keyword">self</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@last_error</span> =<span
								class="ruby-string">&quot;Can&#39;t unpause Container as &quot;</span> <span
								class="ruby-operator">+</span> <span class="ruby-identifier">state</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">clear_error</span>(<span
								class="ruby-identifier">ret_val</span>)
  <span class="ruby-identifier">save_state</span>()
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">ret_val</span>

<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


		</section>

		<section id="protected-instance-5Buntitled-5D-method-details"
			class="method-section">
			<header>
				<h3>Protected Instance Methods</h3>
			</header>


			<div id="method-i-clear_error" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">clear_error</span><span
						class="method-args">(ret_val)</span> <span
						class="method-click-advice">click to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="clear_error-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 707</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">clear_error</span> <span
								class="ruby-identifier">ret_val</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ret_val</span><span
								class="ruby-operator">==</span><span class="ruby-keyword">true</span>
    <span class="ruby-ivar">@last_error</span>=<span
								class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-set_container_id" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">set_container_id</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="set_container_id-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 713</span>
 <span class="ruby-keyword">def</span> <span class="ruby-identifier">set_container_id</span>
<span class="ruby-keyword">return</span> <span class="ruby-string">&quot;-1&quot;</span>  

 <span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-trim_last_error" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">trim_last_error</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="trim_last_error-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 700</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">trim_last_error</span>
  <span class="ruby-comment">#FIX ME tyhsi breaks teh yaml  if it cuts off trailing &quot;</span>
<span class="ruby-comment">#  if  @last_error.is_a?(String) &amp;&amp; @last_error.length &gt;256</span>
<span class="ruby-comment">#    @last_error=@last_error.slice!(0,256)</span>
<span class="ruby-comment">#  end</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


			<div id="method-i-trim_last_result" class="method-detail ">

				<div class="method-heading">
					<span class="method-name">trim_last_result</span><span
						class="method-args">()</span> <span class="method-click-advice">click
						to toggle source</span>

				</div>


				<div class="method-description">






					<div class="method-source-code" id="trim_last_result-source">
						<pre>
							<span class="ruby-comment"># File containers/ManagedContainer.rb, line 694</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">trim_last_result</span>
  <span class="ruby-comment">#FIX ME tyhsi breaks teh yaml  if it cuts off trailing &quot;</span>
<span class="ruby-comment">#  if @last_result.is_a?(String) &amp;&amp; @last_result.length &gt;256</span>
<span class="ruby-comment">#    @last_result=@last_result.slice!(0,256)</span>
<span class="ruby-comment">#  end</span>
<span class="ruby-keyword">end</span>
						</pre>
					</div>

				</div>




			</div>


		</section>

	</section>
	</main>


	<footer id="validator-badges" role="contentinfo">
		<p>
			<a href="http://validator.w3.org/check/referer">Validate</a>
		<p>
			Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.1.
		<p>
			Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a>
			by <a href="http://deveiate.org">Michael Granger</a>.
	</footer>